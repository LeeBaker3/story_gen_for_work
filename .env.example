# Story Generator API - Example .env
# Copy this file to `.env` (repo root) or `backend/.env` and edit values.
# Notes:
# - Most settings are read from environment in backend/settings.py
# - A plain load_dotenv() is called in backend/auth.py, which loads a .env from the current working directory or its parents.
#   Prefer placing .env at the repo root. If you keep it under backend/.env, start the app with the working directory set to backend/.

# Core
RUN_ENV=dev
API_PREFIX=/api/v1

# Auth/JWT
# IMPORTANT: Change this in non-test environments.
SECRET_KEY=change-me-in-prod

# Paths
FRONTEND_DIR=frontend
DATA_DIR=data
LOGS_DIR=data/logs
LOGGING_CONFIG=config/logging.yaml

# Static mounts
# Default behavior if unset: disabled when RUN_ENV=test, enabled otherwise.
MOUNT_FRONTEND_STATIC=true
MOUNT_DATA_STATIC=true

# OpenAI models and retries
# Note: Unit tests mock OpenAI calls; the key is not required in CI.
OPENAI_API_KEY=sk-...
TEXT_MODEL=gpt-4.1-mini
IMAGE_MODEL=gpt-image-1
RETRY_MAX_ATTEMPTS=3
RETRY_BACKOFF_BASE=1.5

# CORS (comma-separated)
CORS_ORIGINS=http://localhost:3000,http://127.0.0.1:3000

# Database
# Connection string (defaults to sqlite:///./story_generator.db if unset)
DATABASE_URL=sqlite:///./story_generator.db

# Feature flags
# If enabled, business-facing ImageStyle values are mapped to richer prompt modifiers.
ENABLE_IMAGE_STYLE_MAPPING=true
