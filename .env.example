# Story Generator API - Example .env
# Copy this file to `.env` at the repo root and edit values.
# Notes:
# - Only the repo root `.env` is used for local development.
# - Settings are read from environment via backend/settings.py and loaded in backend/ai_services.py.
# - Do NOT create backend/.env; it has been removed to avoid confusion.

# Core
RUN_ENV=dev
API_PREFIX=/api/v1

# Auth/JWT
# IMPORTANT: Change this in non-test environments.
SECRET_KEY=change-me-in-prod

# Paths
FRONTEND_DIR=frontend
DATA_DIR=data
LOGS_DIR=data/logs
LOGGING_CONFIG=config/logging.yaml

# Static mounts
# Default behavior if unset: disabled when RUN_ENV=test, enabled otherwise.
MOUNT_FRONTEND_STATIC=true
MOUNT_DATA_STATIC=true

# OpenAI models and retries
# Note: Unit tests mock OpenAI calls; the key is not required in CI.
OPENAI_API_KEY=sk-...
TEXT_MODEL=gpt-5-mini
IMAGE_MODEL=gpt-image-1.5
RETRY_MAX_ATTEMPTS=3
RETRY_BACKOFF_BASE=1.5
USE_OPENAI_RESPONSES_API=true
# Optional resilience: if the chosen text path fails, fall back to the other.
OPENAI_TEXT_ENABLE_FALLBACK=false

# CORS (comma-separated)
CORS_ORIGINS=http://localhost:3000,http://127.0.0.1:3000

# Database
# Connection string (defaults to sqlite:///./story_generator.db if unset)
DATABASE_URL=sqlite:///./story_generator.db

# Feature flags
# If enabled, business-facing ImageStyle values are mapped to richer prompt modifiers.
ENABLE_IMAGE_STYLE_MAPPING=true
